modules:
  - .interviewTools
---
include:
  - objectSpolek.yml
---
mandatory: True
code: |
  if "spolek_id" in url_args:

    Spolek.row_id = url_args["spolek_id"]
    spolek_raw = load_spolek_data(Spolek.row_id)

    for key, value in spolek_raw.items():
      define(f"Spolek.{key}", value)

    results = save_document(row_id=Spolek.row_id, file_type="stanovy", url_for=stanovy.url_for(temporary=True), size=5468)

    json_response(results)

  else:
    json_response("Error")
---
attachment:
  name: Stanovy spolku
  filename: Stanovy_spolku
  variable name: stanovy
  docx template file: Stanovy.docx
  valid formats:
    - docx